/***


         @\_______/@
        @|XXXXXXXX |
       @ |X||    X |
      @  |X||    X |
     @   |XXXXXXXX |
    @    |X||    X |             V
   @     |X||   .X |
  @      |X||.  .X |                      V
 @      |%XXXXXXXX%||
@       |X||  . . X||
        |X||   .. X||                               @     @
        |X||  .   X||.                              ||====%
        |X|| .    X|| .                             ||    %
        |X||.     X||   .                           ||====%
       |XXXXXXXXXXXX||     .                        ||    %
       |XXXXXXXXXXXX||         .                 .  ||====% .
       |XX|        X||                .        .    ||    %  .
       |XX|        X||                   .          ||====%   .
       |XX|        X||              .          .    ||    %     .
       |XX|======= X||============================+ || .. %  ........
===== /            X||                              ||    %
                   X||           /)                 ||    %
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Nina Butorac

                                                                             
                                                                             

       $$$$$$$  $$    $$  $$$$$$$    $$$$$$    $$$$$$    $$$$$$ 
      $$        $$    $$  $$    $$        $$  $$    $$  $$    $$
       $$$$$$   $$    $$  $$    $$   $$$$$$$  $$    $$  $$    $$
            $$  $$    $$  $$    $$  $$    $$  $$    $$  $$    $$
      $$$$$$$    $$$$$$$  $$    $$   $$$$$$$  $$$$$$$   $$$$$$$ 
                      $$                      $$        $$      
                      $$                      $$        $$     
                 $$$$$$                       $$        $$                     







              ────────────────────▄▄▄▄
              ────────────────▄▄█▀▀──▀▀█▄
              ─────────────▄█▀▀─────────▀▀█▄
              ────────────▄█▀──▄▄▄▄▄▄──────▀█
              ────────────█───█▌────▀▀█▄─────█
              ────────────█──▄█────────▀▀▀█──█
              ────────────█──█──▀▀▀──▀▀▀▄─▐──█
              ────────────█──▌────────────▐──█
              ────────────█──▌─▄▀▀▄───────▐──█
              ───────────█▀▌█──▄▄▄───▄▀▀▄─▐──█
              ───────────▌─▀───█▄█▌─▄▄▄────█─█
              ───────────▌──────▀▀──█▄█▌────█
              ───────────█───────────▀▀─────▐
              ────────────█──────▌──────────█
              ────────────██────█──────────█
              ─────────────█──▄──█▄█─▄────█
              ─────────────█──▌─▄▄▄▄▄─█──█
              ─────────────█─────▄▄──▄▀─█
              ─────────────█▄──────────█
              ─────────────█▀█▄▄──▄▄▄▄▄█▄▄▄▄▄
              ───────────▄██▄──▀▀▀█─────────█
              ──────────██▄─█▄────█─────────█
              ───▄▄▄▄███──█▄─█▄───█─────────██▄▄▄
              ▄█▀▀────█────█──█▄──█▓▓▓▓▓▓▓▓▓█───▀▀▄
              █──────█─────█───████▓▓▓▓▓▓▓▓▓█────▀█
              █──────█─────█───█████▓▓▓▓▓▓▓█──────█
              █─────█──────█───███▀▀▀▀█▓▓▓█───────█
              █────█───────█───█───▄▄▄▄████───────█
              █────█───────█──▄▀───────────█──▄───█
              █────█───────█─▄▀─────█████▀▀▀─▄█───█
              █────█───────█▄▀────────█─█────█────█
              █────█───────█▀───────███─█────█────█
              █─────█────▄█▀──────────█─█────█────█
              █─────█──▄██▀────────▄▀██─█▄───█────█
              █────▄███▀─█───────▄█─▄█───█▄──█────█
              █─▄██▀──█──█─────▄███─█─────█──█────█
              ██▀────▄█───█▄▄▄█████─▀▀▀▀█▀▀──█────█
              █──────█────▄▀──█████─────█────▀█───█
              ───────█──▄█▀───█████─────█─────█───█
              ──────▄███▀─────▀███▀─────█─────█───█
              ─────────────────────────────────────
              ▀█▀─█▀▄─█─█─█▀────▄▀▀─▀█▀─▄▀▄─█▀▄─█─█
              ─█──█▄▀─█─█─█▀────▀▀█──█──█─█─█▄▀─█▄█
              ─▀──▀─▀─▀▀▀─▀▀────▀▀───▀───▀──▀─▀─▄▄█
              ─────────────────────────────────────





***/

;! function () {

  'use strict';

  var trueStory = require('/home/francois/Dev/true-story.js/lib/TrueStory');

  module.exports = function () {

    return trueStory()

      .on('error', function (error) {
        console.error(error.message);
      })

      /***
        .                             $$            $$            
        .                             $$            $$            
        $$$$$$ $$$$    $$$$$$    $$$$$$$   $$$$$$   $$   $$$$$$$  
        $$   $$   $$  $$    $$  $$    $$  $$    $$  $$  $$        
        $$   $$   $$  $$    $$  $$    $$  $$$$$$$$  $$   $$$$$$   
        $$   $$   $$  $$    $$  $$    $$  $$        $$        $$  
        $$   $$   $$   $$$$$$    $$$$$$$   $$$$$$$  $$  $$$$$$$   

      ***/

      .model(require('./model'))

      /**
        .                       $$    $$      $$                                    
        .                             $$      $$                                    
         $$$$$$   $$$$$$ $$$$   $$  $$$$$$  $$$$$$     $$$$$$    $$$$$$    $$$$$$$  
        $$    $$  $$   $$   $$  $$    $$      $$      $$    $$  $$    $$  $$        
        $$$$$$$$  $$   $$   $$  $$    $$      $$      $$$$$$$$  $$         $$$$$$   
        $$        $$   $$   $$  $$    $$  $$  $$  $$  $$        $$              $$  
         $$$$$$$  $$   $$   $$  $$     $$$$    $$$$    $$$$$$$  $$        $$$$$$$   

      **/

      .emitter('socket',
        io.connect('http://' + window.location.hostname + ':' +
          window.location.port))

      /***
        .          $$                                    
        .                                                         
        $$     $$  $$   $$$$$$   $$   $$   $$   $$$$$$$  
        .$$   $$   $$  $$    $$  $$   $$   $$  $$        
        . $$ $$    $$  $$$$$$$$  $$   $$   $$   $$$$$$   
        .  $$$     $$  $$        $$   $$   $$        $$  
        .   $      $$   $$$$$$$   $$$$$ $$$$   $$$$$$$   

      **/

      .view(require('./view'))

      /**
        .                               $$                          $$          
        .                               $$                          $$          
         $$$$$$$   $$$$$$   $$$$$$$   $$$$$$     $$$$$$    $$$$$$   $$          
        $$        $$    $$  $$    $$    $$      $$    $$  $$    $$  $$  $$$$$$  
        $$        $$    $$  $$    $$    $$      $$        $$    $$  $$          
        $$        $$    $$  $$    $$    $$  $$  $$        $$    $$  $$          
         $$$$$$$   $$$$$$   $$    $$     $$$$   $$         $$$$$$   $$          
                                                                               
                            $$                                
                            $$                                
                            $$   $$$$$$    $$$$$$    $$$$$$$  
                    $$$$$$  $$  $$    $$  $$    $$  $$        
                            $$  $$$$$$$$  $$         $$$$$$   
                            $$  $$        $$              $$  
                            $$   $$$$$$$  $$        $$$$$$$   
                                            
      ***/

      .controller(require('./controller'))

      /***
        .           $$                          $$                      
        .           $$                                                  
        .$$$$$$$  $$$$$$     $$$$$$    $$$$$$   $$   $$$$$$    $$$$$$$  
        $$          $$      $$    $$  $$    $$  $$  $$    $$  $$        
        .$$$$$$     $$      $$    $$  $$        $$  $$$$$$$$   $$$$$$   
        .     $$    $$  $$  $$    $$  $$        $$  $$              $$  
        $$$$$$$      $$$$    $$$$$$   $$        $$   $$$$$$$  $$$$$$$   

      ***/

      .tell(require('./stories'))

      /**
                                                         
          $$                            $$               
          $$                            $$               
        $$$$$$     $$$$$$    $$$$$$$  $$$$$$    $$$$$$$  
          $$      $$    $$  $$          $$     $$        
          $$      $$$$$$$$   $$$$$$     $$      $$$$$$   
          $$  $$  $$              $$    $$  $$       $$  
           $$$$    $$$$$$$  $$$$$$$      $$$$  $$$$$$$   
                                                         
        ***/

      .test(require('./test'));
    };

}();
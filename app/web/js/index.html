<!doctype html>
	
	<h1></h1>

	<input/>

	<article>
		<h2></h2>
		<h4></h4>
		<p></p>
		<h5><span></span></h5>
	</article>
			
	<script src="/bower/jquery/dist/jquery.min.js"></script>
	<script>

		function MVB () {

		}

		MVB.prototype.$bind = function(model, view) {

			var self = this;

			var fn = 'text';

			var args = [this[model]];

			view[fn].apply(view, args);

			Object.observe(this, function (changes) {
				changes.forEach(function (change) {
					if ( change.name === model ) {
						view.text(self[model])
					}
				});
			});

			return this;
		};

		MVB.prototype.$listen = function(model, view) {
			
			var self = this;

			view.on('keyup', function () {
				self[model] = $(this).val();
			});

			return this;
		};

		var model = new MVB();

		// Model updates view

		model.title = 'Hello!';

		model.$bind('title', $('h1'));

		model.$bind('title', $('input'));

		model.$listen('title', $('input'));

		// // app.$assign('title', $('h1'));

		// app.$assign('title', 'h1');

		// setTimeout(function () {
		// 	console.log('title', app.title)
		// 	app.title = 'Goodbye!'
		// }, 1000);

		// // View updates model

		// app.$listen('title', $('input'));

		// // Toggle

		// app.$toggle('show', $('h1'));

		// // Toggle view

		// app.show = true;

		// app.$toggleView('show', $('input'));

		// app.article = {
		// 	title: 'This is an article',
		// 	description: 'This is a description',
		// 	author: {
		// 		name: 'joe',
		// 		email: 'joe@joe.com'
		// 	},
		// 	tags: ['cool', 'awesome', 'life-changing'],
		// 	comments: [
		// 		{
		// 			author: 'jane',
		// 			comment: 'Changed my life!'
		// 		}
		// 	]
		// };

		// app.assign('article.title', 					$('article h2'));
		// app.assign('article.description', 		$('article p'));
		// app.assign('article.author.name', 		$('article h4'));
		// app.assign('article.author.email', 		{
		// 	view: $('article h4'),
		// 	attr: 'title'
		// });

		// app.$assign('article', {
		// 	map: {
		// 		"title": 					$('article h2'),
		// 		"description": 		$('article p'),
		// 		"author.name":		$('article h4'),
		// 		"author.email":		{ attr: { title: $('article h4') }},
		// 		"tags": 					$('article h5 span'),
		// 		"comments":				
		// 	}
		// });

		
		// // Toggle

		// modelView

		// 	.$model('show', false)

		// 		.$toggle($('button.toggle'))

		// // Incrementer / Decrementer

		// modelView

		// 	.$model('counter', 0)

		// 		.$inc($('button.plus'))

		// 		.$dec($('button.minus'), { step: 5 })

		// 		.$reset($('button.reset'))

		// 		.$assign($('.counter'));


		// // Type ahead

		// modelView

		// 	.$model('loading', false)

		// 	.$model('movies', [])

		// 		.$watch($('input'), function (query) {

		// 			if ( this.loading ) {
		// 				return;
		// 			}

		// 			this.loading = true;

		// 			if ( query.length > 3 ) {
		// 				$.ajax('/movies?query=' + query)
		// 					.done(function (movies) {
		// 						this.movies = movies;
		// 						this.loading = false;
		// 					}.bind(this));
		// 			}
		// 		})

		// 		.$assign($('li'));

	</script>
